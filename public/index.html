<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Do-Do Dudes | Poop Removal Pros</title>
  <link rel="stylesheet" href="style.css" />

  <!-- EmailJS Script -->
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("oCMy3v4ZxjAs5x0AY"); // ‚úÖ Replace with your public key if needed
    })();
  </script>

  <!-- Firebase SDK Setup -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCTjGtfArDQmZf6IwdkG-w9CIljrV8thx8",
      authDomain: "do--do-dudes.firebaseapp.com",
      databaseURL: "https://do--do-dudes-default-rtdb.firebaseio.com",
      projectId: "do--do-dudes",
      storageBucket: "do--do-dudes.appspot.com",
      messagingSenderId: "20524074638",
      appId: "1:20524074638:web:6268ee749716003e5c2bdf"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    window.handleFormSubmit = async (e) => {
      e.preventDefault();
      const form = e.target;

      const data = {
        name: form.name.value.trim(),
        address: form.address.value.trim(),
        phone: form.phone.value.trim(),
        email: form.email.value.trim(),
        dogCount: form.dogCount.value.trim(),
        preferredDate: form.preferredDate.value,
        preferredTime: form.preferredTime.value,
        message: form.message.value.trim(),
        timestamp: new Date().toISOString()
      };

      try {
        // ‚úÖ Save to Firebase
        await push(ref(db, "submissions"), data);

        // ‚úÖ Test logs for EmailJS
        console.log("Sending to customer...");
        const customerResult = await emailjs.send("service_48eef0r", "template_ols508i", data);
        console.log("Customer email sent:", customerResult.status);

        console.log("Sending to admin...");
        const adminResult = await emailjs.send("service_48eef0r", "template_9pwid3c", data);
        console.log("Admin email sent:", adminResult.status);

        window.location.href = "thankyou.html";
      } catch (err) {
  alert("Something went wrong. Please try again.");
  console.error("Email/Firebase error:", err);
}

    };
  </script>
</head>

<body>

  <!-- Logo -->
  <div class="logo-container">
    <img src="images/dodo-logo1.png" alt="Do-Do Dudes Logo" class="logo">
  </div>

  <main>
    <section class="intro container">
      <h2>Your #2 Problem is Our #1 Priority</h2>
      <p>Do-Do Dudes brings clean yards and happy noses‚Äîwithout you lifting a finger!</p>
      <div class="big-offer">$5 First-Time Visit! ü§ë</div>
      <a href="#contact" class="button">Book Your First Scoop</a>
    </section>

    <section class="services container">
      <h2>What We Offer</h2>
      <ul>
        <li>‚úÖ Weekly & Biweekly Cleanups</li>
        <li>‚úÖ One-Time Yard Reset</li>
        <li>‚úÖ Sanitization Options</li>
        <li>‚úÖ Pet-Loving, Friendly Techs</li>
      </ul>
    </section>

    <section class="pricing container">
      <h3>üíµ Scoop Pricing:</h3>
      <ul>
        <li>üê∂ One Dog: $20 weekly / $35 biweekly</li>
        <li>‚ûï +$10 for each additional dog</li>
        <li>‚ö° Rush/ASAP Fee: +$20</li>
        <li>üöõ Poop Transport Fee: +$10  
          <br><small>(Waived if you allow us to use your own trash bin)</small></li>
      </ul>

      <h3>üí≥ Payment Options:</h3>
      <ul>
        <li>Zelle</li>
        <li>Apple Pay</li>
        <li>Cash</li>
      </ul>
    </section>

    <section class="how-it-works container">
      <h2>How It Works</h2>
      <p>1. Book online or by text.<br>
         2. We show up, scoop the poop, sanitize if needed.<br>
         3. We leave your yard clean, fresh, and walk-ready.<br>
         4. Pay easily with Zelle, Apple Pay, or Cash in person after service.</p>
    </section>

    <section class="contact container" id="contact">
      <h2>Custom Scheduling</h2>
      <p>Ready to ditch the doo-doo? Drop us your info below:</p>
      <form id="contactForm" onsubmit="handleFormSubmit(event)">
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="text" name="address" placeholder="Your Address" required>
        <input type="tel" name="phone" placeholder="Your Phone Number" required>
        <input type="email" name="email" placeholder="Your Email" required>
        <input type="number" name="dogCount" placeholder="How many dogs do you have?" required>
        <input type="date" name="preferredDate" required>
        <input type="time" name="preferredTime" required>
        <textarea name="message" placeholder="Message or Notes" required></textarea>
        <button type="submit">Send Message</button>
      </form>
    </section>
  </main>

  <!-- Hidden Admin Access Button -->
  <button id="adminAccessBtn" style="position:fixed; bottom:10px; right:10px; background:none; border:none; font-size:0.8rem; color:#888; cursor:pointer;">
    ‚öôÔ∏è
  </button>

  <script>
    document.getElementById('adminAccessBtn').addEventListener('click', function () {
      window.location.href = "admin.html";
    });
  </script>

  <br>
  <footer>
    <p>&copy; 2025 Do-Do Dudes | All Rights Reserved</p>
  </footer>

</body>
</html>

